{"version":3,"file":"CallRoute-88cd3b4e.js","sources":["../src/ui/blocks/fragments/AppBarFragment.svelte","../src/ui/blocks/appBars/ClosableAppBar.svelte","../src/ui/components/ExpandingButton.svelte","../src/ui/fragments/CallFragment.svelte"],"sourcesContent":["<script lang='ts'>\r\n\timport { writable } from 'svelte/store';\r\n\timport AppBar from '../AppBar.svelte';\r\n\timport Scene from '../Fragment.svelte';\r\n\timport { CSSUtility } from '../../../resources/utilities';\r\n\timport type HamburgerAppBar from '../appBars/HamburgerAppBar.svelte';\r\n\timport type ScrollableAppBar from '../appBars/ScrollableAppBar.svelte';\r\n\r\n\texport let appBarComponent:\r\n\t| typeof AppBar\r\n\t| typeof HamburgerAppBar\r\n\t| typeof ScrollableAppBar\r\n\t| null = AppBar;\r\n\texport let title: string | undefined = undefined;\r\n\texport let appBarProps: Record<string, any> = {};\r\n\texport let height = 'auto';\r\n\texport let width = 'auto';\r\n\texport let isRounded = false;\r\n\texport let isScrollable = false;\r\n\texport let isScrollableW = writable(isScrollable);\r\n\r\n\texport let expandedHeightW = writable(0);\r\n\r\n\t$: sceneHeight = $isScrollableW\r\n\t\t? `calc(${CSSUtility.parse(height)} - ${$expandedHeightW}px)`\r\n\t\t: 'auto';\r\n</script>\r\n\r\n<component\r\n\tstyle='\r\n\t\t--height: {CSSUtility.parse(height)};\r\n\t\t--width: {CSSUtility.parse(width)};\r\n\t'\r\n>\r\n\t<slot name='appBar'>\r\n\t\t{#if appBarComponent != null}\r\n\t\t\t<svelte:component\r\n\t\t\t\tthis={appBarComponent}\r\n\t\t\t\t{title}\r\n\t\t\t\t{expandedHeightW}\r\n\t\t\t\tborderRadius={isRounded ? 'var(--roundness) var(--roundness) 0 0' : 0}\r\n\t\t\t\t{...appBarProps}\r\n\t\t\t/>\r\n\t\t{/if}\r\n\t</slot>\r\n\t<Scene\r\n\t\tbind:height={sceneHeight}\r\n\t\twidth='auto'\r\n\t\tborderRadius={isRounded ? '0 0 var(--roundness) var(--roundness)' : 0}\r\n\t\t{isScrollable}\r\n\t\t{isScrollableW}\r\n\t\t{...$$restProps}\r\n\t>\r\n\t\t<slot />\r\n\t</Scene>\r\n</component>\r\n\r\n<style>\r\n\tcomponent {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\theight: var(--height);\r\n\t\twidth: var(--width);\r\n\t}\r\n</style>","<script lang='ts'>\r\n\timport { writable } from 'svelte/store';\r\n\timport AppBar from '../AppBar.svelte';\r\n\timport Button from '../Button.svelte';\r\n\r\n\t// @export\r\n\texport let expandedHeightW = writable(0);\r\n\texport let baseHeightW = writable(0);\r\n\texport let isSpaced = true;\r\n\texport let isSpacedW = writable(isSpaced);\r\n\r\n\texport let isActiveW = writable(false);\r\n\texport let onBlur = (): void => {\r\n\t\tisActiveW.set(false);\r\n\t};\r\n</script>\r\n\r\n<AppBar\r\n\tbind:expandedHeightW\r\n\tbind:baseHeightW\r\n\tbind:isSpacedW\r\n\tbind:isSpaced\r\n\t{...$$restProps}\r\n>\r\n\t<Button \r\n\t\ticon='clear'\r\n\t\tbackgroundColour='transparent'\r\n\t\thoverColour='#fff2'\r\n\t\ton:click={onBlur}\r\n\t/>\r\n</AppBar>","<script lang='ts'>\r\n\timport { createEventDispatcher } from 'svelte';\r\n\timport { writable } from 'svelte/store';\r\n\timport {\r\n\t\tCSSUtility, WindowUtility,\r\n\t} from '../../resources/utilities';\r\n\timport Button from '../blocks/Button.svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\texport let backgroundColour = '--colour-ok-secondary';\r\n\texport let buttonColour = '--colour-ok-primary';\r\n\r\n\tlet component: HTMLDivElement;\r\n\tlet outer: HTMLDivElement;\r\n\tlet isHolding = false;\r\n\tlet animation: Animation | null = null;\r\n\r\n\tconst scaleW = writable(1);\r\n\t// let lastScaleValue = $scaleW;\r\n\r\n\t// $: $scaleW, component && (() => {\r\n\t// \tanimation = component.animate([\r\n\t// \t\t{\r\n\t// \t\t\ttransform: `scale(${lastScaleValue})`,\r\n\t// \t\t},\r\n\t// \t\t{\r\n\t// \t\t\ttransform: `scale(${$scaleW})`,\r\n\t// \t\t},\r\n\t// \t], {\r\n\t// \t\tduration: 500,\r\n\t// \t\teasing: CSSUtility.getVariable('--ease-fast-slow'),\r\n\t// \t});\r\n\r\n\t// \tanimation.addEventListener('finish', () => {\r\n\t// \t\tlastScaleValue = $scaleW;\r\n\r\n\t// \t\tanimation = null;\r\n\t// \t});\r\n\r\n\t// \tanimation.addEventListener('cancel', () => {\r\n\t// \t\t// lastScaleValue = $scaleW;\r\n\r\n\t// \t\tanimation = null;\r\n\t// \t});\r\n\t// })();\r\n\r\n\tfunction onMouseDown() {\r\n\t\tconsole.log('down');\r\n\t\tisHolding = true;\r\n\r\n\t\tanimation?.cancel();\r\n\t\tanimation = null;\r\n\t}\r\n\r\n\tfunction onMouseUp() {\r\n\t\tconsole.log('up');\r\n\t\r\n\t\tif (!isHolding) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tisHolding = false;\r\n\r\n\t\tanimation = outer.animate([\r\n\t\t\t{\r\n\t\t\t\ttransform: `scale(${$scaleW})`,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttransform: 'scale(1)',\r\n\t\t\t},\r\n\t\t], {\r\n\t\t\tduration: 500,\r\n\t\t\teasing: CSSUtility.getVariable('--ease-fast-slow'),\r\n\t\t});\r\n\r\n\t\tanimation.addEventListener('finish', () => {\r\n\t\t\t$scaleW = 1;\r\n\r\n\t\t\tanimation = null;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onMouseMove<T = 'mouse' | 'touch'>(event: T extends 'mouse' ? MouseEvent : TouchEvent) {\r\n\t\tconsole.log('move');\r\n\r\n\t\tif (!isHolding) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tconst x1 = (\r\n\t\t\t(event as TouchEvent).touches?.[0]?.pageX\r\n\t\t\t?? (event as MouseEvent).clientX\r\n\t\t);\r\n\t\tconst y1 = (\r\n\t\t\t(event as TouchEvent).touches?.[0]?.pageY\r\n\t\t\t?? (event as MouseEvent).clientY\r\n\t\t);\r\n\t\tconst {\r\n\t\t\tleft,\r\n\t\t\ttop,\r\n\t\t\theight,\r\n\t\t\twidth,\r\n\t\t} = component.getBoundingClientRect();\r\n\t\tconst x2 = left + width / 2;\r\n\t\tconst y2 = top + height / 2;\r\n\t\tconst distance = Math.hypot(x2 - x1, y2 - y1);\r\n\t\tconst distanceNormalized = distance\r\n\t\t\t/ Math.hypot(\r\n\t\t\t\tWindowUtility.viewport.height,\r\n\t\t\t\tWindowUtility.viewport.width,\r\n\t\t\t);\r\n\t\r\n\t\t$scaleW = distanceNormalized\r\n\t\t\t* (Math.max(WindowUtility.viewport.width, WindowUtility.viewport.height) / 100)\r\n\t\t\t* 3\r\n\t\t\t+ 1;\r\n\t}\r\n</script>\r\n\r\n<svelte:window\r\n\ton:mousemove={onMouseMove}\r\n\ton:touchmove={onMouseMove}\r\n\ton:mouseup={onMouseUp}\r\n/>\r\n\r\n<component\r\n\tbind:this={component}\r\n\ton:touchstart={onMouseDown}\r\n\ton:mousedown={onMouseDown}\r\n\ton:touchend={onMouseUp}\r\n>\r\n\t<container\r\n\t\tbind:this={outer}\r\n\t\tclass='outer'\r\n\t\tstyle='\r\n\t\t\t--outer-transform: scale({$scaleW});\r\n\t\t\t--colour-background: {CSSUtility.parse(backgroundColour)};\r\n\t\t'\r\n\t/>\r\n\t<Button \r\n\t\ticon='clear'\r\n\t\tbackgroundColour={buttonColour}\r\n\t\thoverColour='#fff2'\r\n\t\tpadding={20}\r\n\t\ton:click={() => dispatch('click')}\r\n\t/>\r\n</component>\r\n\r\n<style>\r\n\tcomponent {\r\n\t\ttransform: matrix(1, 0, 0, 1, 0, 0);\r\n\t}\r\n\r\n\t.outer {\r\n\t\tborder-radius: 100%;\r\n\r\n\t\theight: calc(1rem + 40px);\r\n\t\twidth: calc(1rem + 40px);\r\n\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: var(--colour-background);\r\n\t\topacity: 0.5;\r\n\r\n\t\ttransform: var(--outer-transform);\r\n\t\t/* transition: var(--ease-fast-slow); */\r\n\t}\r\n</style>","<script lang='ts'>\r\n\timport { onMount } from 'svelte';\r\n\timport { writable } from 'svelte/store';\r\n\timport { push } from 'svelte-spa-router';\r\n\timport { Ctx } from '../../core/ctx';\r\n\timport Button from '../blocks/Button.svelte';\r\n\timport Input from '../blocks/Input.svelte';\r\n\timport Fragment from '../blocks/Fragment.svelte';\r\n\timport Dialog from '../blocks/Dialog.svelte';\r\n\timport Gradient2 from '../components/Gradient2.svelte';\r\n\timport {\r\n\t\tToastItem,\r\n\t\tLevels,\r\n\t} from '../blocks/Toast.svelte';\r\n\timport AppBarFragment from '../blocks/fragments/AppBarFragment.svelte';\r\n\timport ClosableAppBar from '../blocks/appBars/ClosableAppBar.svelte';\r\nimport ExpandingButton from '../components/ExpandingButton.svelte';\r\n</script>\r\n\r\n<AppBarFragment\r\n\tisPadded={true}\r\n\tisInAnimated={true}\r\n\tisOutAnimated={true}\r\n\theight='100vh'\r\n\twidth='100vw'\r\n\talign='flex-end'\r\n\tjustify='center'\r\n\tappBarComponent={null}\r\n>\r\n\t<container \r\n\t\tslot='appBar'\r\n\t>\r\n\t\t<ClosableAppBar\r\n\t\t\ttitle=''\r\n\t\t\tisSpaced={false}\r\n\t\t/>\r\n\t</container>\r\n\r\n\t<container class='gradient'>\r\n\t\t<Gradient2 />\r\n\t</container>\r\n\r\n\t<container\r\n\t\tclass='content'\r\n\t>\r\n\t\t<container\r\n\t\t\tclass='buttons'\r\n\t\t>\r\n\t\t\t<container\r\n\t\t\t\tclass='customize'\r\n\t\t\t>\r\n\t\t\t\t<!-- <Button\r\n\t\t\t\t\tbackgroundColour='--colour-text-primary'\r\n\t\t\t\t\thoverColour='--colour-text-secondary'\r\n\t\t\t\t\ttextColour='--colour-background-primary'\r\n\t\t\t\t\ticon='settings'\r\n\t\t\t\t>\r\n\t\t\t\t\tcustomize\r\n\t\t\t\t</Button> -->\r\n\t\t\t\t<ExpandingButton />\r\n\t\t\t</container>\r\n\t\t\t<container\r\n\t\t\t\tclass='submit'\r\n\t\t\t>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ticon='nat'\r\n\t\t\t\t>\r\n\t\t\t\t\trender it\r\n\t\t\t\t</Button>\r\n\t\t\t</container>\r\n\t\t</container>\r\n\t</container>\r\n</AppBarFragment>\r\n\r\n<style>\r\n\tcontainer.gradient {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\t\t\r\n\t\theight: 100vh;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tcontainer.content {\r\n\t\theight: auto;\r\n\t\twidth: auto;\r\n\r\n\t\tdisplay: grid;\r\n\t\talign-items: center;\r\n\t\tjustify-items: flex-start;\r\n\t}\r\n\r\n\tcontainer.buttons {\r\n\t\tdisplay: flex;\r\n\t\t/* gap: 25%; */\r\n\t}\r\n\r\n</style>"],"names":[],"mappings":"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"}